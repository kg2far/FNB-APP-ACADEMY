<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Glass Fitting - Khumalo Enterprises</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="headerr">
        <h1>Glass Fitting Selection</h1>
    </div>
    <div class="window-gallery">
        <div class="window-card" data-name="ND4F" data-price="600">
            <div style="color:#2c5364; font-size:1rem; font-weight:500; margin-bottom:8px;">
                If the window is broken move to the window and click it
            </div>
            <div class="window-card-img-wrapper">
                <img src="images/nd4f.png" alt="ND4F" onclick="selectWindow(this)">
                <div class="hover-overlay">
                    <span>Click for Broken Window</span>
                </div>
            </div>
            <div class="window-name">ND4F <span style="font-size:0.95em;color:#555;">R600</span></div>
            <input type="number" min="1" value="1" class="quantity-input" id="qty-ND4F" />
            <button class="add-btn" onclick="addToList('ND4F', 600, this)">Add</button>
        </div>
        <div class="window-card" data-name="Casement Window" data-price="450">
            <div class="window-card-img-wrapper">
                <img src="images/window2.jpg" alt="Casement Window" onclick="selectWindow(this)">
                <div class="hover-overlay">
                    <span>Click for Broken Window</span>
                </div>
            </div>
            <div class="window-name">Casement Window <span style="font-size:0.95em;color:#555;">R450</span></div>
            <input type="number" min="1" value="1" class="quantity-input" id="qty-Casement Window" />
            <button class="add-btn" onclick="addToList('Casement Window', 450, this)">Add</button>
        </div>
        <div class="window-card" data-name="Bay Window" data-price="700">
            <div class="window-card-img-wrapper">
                <img src="images/window3.jpg" alt="Bay Window" onclick="selectWindow(this)">
                <div class="hover-overlay">
                    <span>Click for Broken Window</span>
                </div>
            </div>
            <div class="window-name">Bay Window <span style="font-size:0.95em;color:#555;">R700</span></div>
            <input type="number" min="1" value="1" class="quantity-input" id="qty-Bay Window" />
            <button class="add-btn" onclick="addToList('Bay Window', 700, this)">Add</button>
        </div>
        <div class="window-card" data-name="Awning Window" data-price="500">
            <div class="window-card-img-wrapper">
                <img src="images/window4.jpg" alt="Awning Window" onclick="selectWindow(this)">
                <div class="hover-overlay">
                    <span>Click for Broken Window</span>
                </div>
            </div>
            <div class="window-name">Awning Window <span style="font-size:0.95em;color:#555;">R500</span></div>
            <input type="number" min="1" value="1" class="quantity-input" id="qty-Awning Window" />
            <button class="add-btn" onclick="addToList('Awning Window', 500, this)">Add</button>
        </div>
        <!-- Add more window types as needed -->
    </div>
    <div class="selected-list" id="selectedList">
        <h3>Selected Windows:</h3>
        <div id="windowItems" style="display: flex; flex-direction: column; gap: 8px;"></div>
        <div id="totalPrice" style="margin-top: 18px; text-align: right; font-size: 1.15rem; font-weight: bold; color: #2c5364;"></div>
    </div>


  <div class="form-wrapper">
  <!-- Login Form -->
  <div id="login-container" class="form-container active">
    <h2>Login</h2>
    <form>
      <input type="text" placeholder="Username">
      <input type="password" placeholder="Password">
      <button type="submit">Login</button>
    </form>
    <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
  </div>

  <!-- Register Form -->
  <div id="register-container" class="form-container">
    <h2>Register</h2>
    <form>
      <input type="text" placeholder="Full Name">
      <input type="email" placeholder="Email">
      <input type="password" placeholder="Password">
      <input type="password" placeholder="Confirm Password">
      <button type="submit">Sign Up</button>
    </form>
    <p>Already have an account? <a href="#" id="show-login">Login</a></p>
  </div>
</div>

    <script>
        // Store selected windows and their quantities and prices
        const selectedWindows = {};

        function selectWindow(img) {
            document.querySelectorAll('.window-card').forEach(card => card.classList.remove('selected'));
            img.closest('.window-card').classList.add('selected');
        }

        function addToList(name, price, btn) {
            const qtyInput = document.getElementById('qty-' + name);
            let qty = parseInt(qtyInput.value, 10);
            if (isNaN(qty) || qty < 1) qty = 1;

            if (selectedWindows[name]) {
                selectedWindows[name].qty += qty;
            } else {
                selectedWindows[name] = { qty: qty, price: price };
            }
            renderSelectedList();
        }

        function changeQty(name, delta) {
            if (selectedWindows[name]) {
                selectedWindows[name].qty += delta;
                if (selectedWindows[name].qty < 1) selectedWindows[name].qty = 1;
                renderSelectedList();
            }
        }

        function renderSelectedList() {
            const container = document.getElementById('windowItems');
            container.innerHTML = '';
            let total = 0;
            for (const [name, data] of Object.entries(selectedWindows)) {
                const item = document.createElement('div');
                item.className = 'selected-item';
                item.style.display = 'flex';
                item.style.justifyContent = 'space-between';
                item.style.alignItems = 'center';
                item.style.background = '#2c5364';
                item.style.color = '#fff';
                item.style.borderRadius = '6px';
                item.style.padding = '6px 14px';
                item.style.margin = '0 0 6px 0';
                item.style.fontSize = '1rem';
                item.innerHTML = `
                    <span>
                        ${name} <span style="color:#ffd700; font-size:0.98em;">R${data.price}</span>
                    </span>
                    <span>
                        <button onclick="changeQty('${name}', -1)" style="margin-right:6px;background:#fff;color:#2c5364;border:none;border-radius:4px;width:28px;height:28px;font-size:1.1em;cursor:pointer;">-</button>
                        Qty: ${data.qty}
                        <button onclick="changeQty('${name}', 1)" style="margin-left:6px;background:#fff;color:#2c5364;border:none;border-radius:4px;width:28px;height:28px;font-size:1.1em;cursor:pointer;">+</button>
                        | Subtotal: <b>R${data.qty * data.price}</b>
                    </span>
                `;
                container.appendChild(item);
                total += data.qty * data.price;
            }
            document.getElementById('totalPrice').textContent = total > 0 ? `Total: R${total}` : '';
        }
        // Expose changeQty to global scope for inline onclick
        window.changeQty = changeQty;

        const loginForm = document.getElementById("login-container");
const registerForm = document.getElementById("register-container");

document.getElementById("show-register").addEventListener("click", function(event) {
  event.preventDefault();
  loginForm.classList.remove("active");
  setTimeout(() => registerForm.classList.add("active"), 300);
});

document.getElementById("show-login").addEventListener("click", function(event) {
  event.preventDefault();
  registerForm.classList.remove("active");
  setTimeout(() => loginForm.classList.add("active"), 300);
});
    </script>
</body>
</html>